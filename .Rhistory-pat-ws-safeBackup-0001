start_e <- idx_es[e] + 1
end_e   <- idx_es[e+1] - 1
testo <- righe_prova[start_e:end_e]
testo <- testo[!grepl("^\\s*$", testo)] # elimina righe vuote
prova_list[paste0("e", e)] <- paste(testo, collapse="\n")
}
testi_temp[[p]] <- prova_list
assign(x = paste0("testi_",file_),testi_temp)
}
}
testi_2023.Rmd
testi_2023.Rmd[[1]]$e1
cat(testi_2023.Rmd[[1]]$e1)
cat(testi_2023.Rmd[[9]]$e1)
for (file_ in c("2021.Rmd","2022.Rmd","2023.Rmd","2024.Rmd")){
lines <- readLines(file_)
idx_prove <- grep("^## Prova", lines)
idx_prove <- c(idx_prove, length(lines)+1)
testi_temp <- list()
p <- 1
for (p in 1:(length(idx_prove)-1)) {
start_prova <- idx_prove[p]
end_prova   <- idx_prove[p+1] - 1
# righe solo di questa prova
righe_prova <- lines[(start_prova+1):end_prova]
# trova tutti gli esercizi nella prova
idx_es <- grep("^### Esercizio", righe_prova)
# metti anche la fine della prova come riga di chiusura
idx_es <- c(idx_es, length(righe_prova)+1)
# crea lista per questa prova
prova_list <- list()
for (e in 1:(length(idx_es)-1)) {
start_e <- idx_es[e] + 1
end_e   <- idx_es[e+1] - 1
testo <- righe_prova[start_e:end_e]
testo <- testo[!grepl("^\\s*$", testo)] # elimina righe vuote
prova_list[paste0("e", e)] <- paste(testo, collapse="\n")
}
testi_temp[[p]] <- prova_list
assign(x = paste0("testi_",file_),testi_temp)
}
}
# a1 <- 12
# a2 <- 3
# a3 <- 2
# a4 <- 4
a1 <- 14
a2 <- 3
a3 <- 2
a4 <- 3
punti_2021 <- list(
list(
e1 = c(a1,a2,a3),
e2 = c(a1,a2,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a2,a3)
),
list(
e1 = c(a1,a2,a3),
e2 = c(a1,a2,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a2,a3)
),
list(
e1 = c(a1,a2,a2),
e2 = c(a1,a2,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a2,a3)
),
list(
e1 = c(a1,a2,a3),
e2 = c(a1,a2,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a2,a3)
),
list(
e1 = c(a1,a2,a3),
e2 = c(a1,a2,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a2,a3)
),
list(
e1 = c(a1,a2,a3),
e2 = c(a1,a2,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a2,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a2,a3),
e3 = c(a3,a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3)
)
)
punti_2022 <- list(
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3)
)
)
punti_2023 <- list(
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1,a2,a1,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3,a3)
)
)
punti_2024 <- list(
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1,a2,a3,a3,a3,a1)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1,a2,a3,a3,a3,a1)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a4, a1 - a4),
e6 = c(a1,a2,a3,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1,a2,a3,a3,a3,a1)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1,a2,a3,a3,a3,a1)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1),
e6 = c(a1,a2,a3,a3,a3)
),
list(
e1 = c(a1,a2,a3,a3),
e2 = c(a1,a2,a3,a3),
e3 = c(a1),
e4 = c(a4,a4,a4,a4),
e5 = c(a1-a4,a4),
e6 = c(a1,a2,a3,a3,a3)
),
list(
e1 = c(14,3,2,2),
e2 = c(14,3,2,2),
e3 = c(14),
e4 = c(3,3,3,3),
e5 = c(14),
e6 = c(14,3,2,2,2)
),
list(
e1 = c(14,3,2,2),
e2 = c(14,3,2,2),
e3 = c(14),
e4 = c(3,3,3,3),
e5 = c(4,10),
e6 = c(14,3,2,2,2)
)
)
punti_2024
testi <- list(testi_2021.Rmd,testi_2022.Rmd,testi_2023.Rmd,testi_2024.Rmd)
testi
testi <- list(testi_2021.Rmd,testi_2022.Rmd,testi_2023.Rmd,testi_2024.Rmd)
punti_tot <- list(punti_2021,punti_2022,punti_2023,punti_2024)
punti_tot
punti_tot[[2]][[3]]
punti_tot[[2]][[3]][1]
punti_tot[[2]][[3]][[1]]
length(testi)
sample(1:length(testi))
es1 <- sample(1:length(testi),1)
length(testi[[es1]])
es1
sample(1:length(testi[[es1]]),1)
es1 <- c(es1,sample(1:length(testi[[es1]]),1))
es1
es1_text <- testi[[es1[1]]][[es[2]]][1]
testi[[es1[1]]]
testi[[es1[1]]][[es[2]]]
es[2]
es1 <- c(es1,sample(1:length(testi[[es1]]),1))
es1 <- sample(1:length(testi),1)
es1 <- c(es1,sample(1:length(testi[[es1]]),1))
es1
es1_text <- testi[[es1[1]]][[es1[2]]][1]
es1_text
cat(es1_text)
cat(es1_text[1])
cat(es1_text[[1]])
es1_text <- testi[[es1[1]]][[es1[2]]][[1]]
cat(es1_text[[1]])
cat(es1_text)
es2 <- sample(1:length(testi),1)
es2 <- c(es2,sample(1:length(testi[[es2]]),1))
es2_text <- testi[[es2[1]]][[es2[2]]][[1]]
cat(es1_text)
cat(es2_text)
es2_text <- testi[[es2[1]]][[es2[2]]][[2]]
cat(es1_text)
cat(es2_text)
cat(es1_text)
cat(es2_text)
cat(es3_text)
es3 <- sample(1:length(testi),1)
es3 <- c(es3,sample(1:length(testi[[es3]]),1))
es3_text <- testi[[es3[1]]][[es3[2]]][[3]]
es4 <- sample(1:length(testi),1)
es4 <- c(es4,sample(1:length(testi[[es4]]),1))
es4_text <- testi[[es4[1]]][[es4[2]]][[4]]
es5 <- sample(1:length(testi),1)
es5 <- c(es5,sample(1:length(testi[[es5]]),1))
es5_text <- testi[[es5[1]]][[es5[2]]][[5]]
es6 <- sample(1:length(testi),1)
es6 <- c(es6,sample(1:length(testi[[es6]]),1))
es6_text <- testi[[es6[1]]][[es6[2]]][[6]]
cat(es3_text)
cat(es4_text)
cat(es5_text)
cat(es6_text)
punti_tot[[es1[1]]][[es1[2]]]
punti_new <- list(
punti_tot[[es1[1]]][[es1[2]]],
punti_tot[[es2[1]]][[es2[2]]],
punti_tot[[es3[1]]][[es3[2]]],
punti_tot[[es4[1]]][[es4[2]]],
punti_tot[[es5[1]]][[es5[2]]],
punti_tot[[es6[1]]][[es6[2]]])
punti_new
cat(es5_text)
es5
punti_tot[[es1[1]]][[es1[2]]]
punti_new <- list(
punti_tot[[es1[1]]][[es1[2]]]$e1,
punti_tot[[es2[1]]][[es2[2]]]$e2,
punti_tot[[es3[1]]][[es3[2]]]$e3,
punti_tot[[es4[1]]][[es4[2]]]$e4,
punti_tot[[es5[1]]][[es5[2]]]$e5,
punti_tot[[es6[1]]][[es6[2]]]$e6
)
punti_new
if (sum(punti_tot[[es5[1]]][[es5[2]]]$e5)<=14) cat(es6_text)
cat(es1_text)
cat(es2_text)
cat(es3_text)
cat(es4_text)
cat(es5_text)
if (sum(punti_tot[[es5[1]]][[es5[2]]]$e5)<=14) cat(es6_text)
seq_along(x)
x
cat(es1_text)
es1_text_clean <- gsub(
"(?s)```\\{r.*?\\}.*?compito.*?\\}\\s*```",
"",
es1_text,
perl=TRUE
)
es1_text_clean
cat(es1_text_clean)
es1_text
lines <- unlist(strsplit(es1_text, "\n"))
# elimina le prime 5
lines_clean <- lines[-(1:5)]
# ricomponi il testo
es1_text_clean <- paste(lines_clean, collapse = "\n")
# stampa il risultato
cat(es1_text_clean)
lines <- unlist(strsplit(es1_text, "\n"))
# elimina le prime 5
lines_clean <- lines[-(1:4)]
# ricomponi il testo
es1_text_clean <- paste(lines_clean, collapse = "\n")
# stampa il risultato
cat(es1_text_clean)
es2 <- sample(1:length(testi),1)
cat(es1_text)
cat(es2_text)
cat(es3_text)
cat(es4_text)
cat(es5_text)
if (sum(punti_tot[[es5[1]]][[es5[2]]]$e5)<=14) cat(es6_text)
# ricomponi il testo
es1_text <- paste(lines_clean, collapse = "\n")
cat("### Esercizio 1 \n\n",es1_text)
reticulate::repl_python()
reticulate::repl_python()
if nome_file.endswith(".R"):
reticulate::repl_python()
percorso = os.path.join(cartella, nome_file)
reticulate::repl_python()
with open(percorso, "r", encoding="utf-8") as singolo:
reticulate::repl_python()
unione.write(f"# Inizio di: {nome_file}\n")
reticulate::repl_python()
import os
use_python("/usr/bin/python3", required = TRUE)
library(reticulate)
use_python("/usr/bin/python3", required = TRUE)
reticulate::repl_python()
